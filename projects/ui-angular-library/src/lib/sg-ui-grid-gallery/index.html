<div class="gallery" #galleryRef>
  <ng-container *ngIf="layout.shouldShow">
    <!-- title -->
    <h2 *ngIf="galleryName" class="gallery__title">{{ galleryName }}</h2>
    <!-- gallery grid -->
    <div class="gallery__grid">
      <ng-container *ngIf="galleryData && galleryData.gallery">
        <!-- gallery group -->
        <div class="gallery__group by-triad" [ngClass]="layout.value">
          <ng-container [ngTemplateOutlet]="galleryOutlet"></ng-container>
        </div>
      </ng-container>
    </div>
  </ng-container>
</div>

<ng-template #galleryOutlet let-gallery>
  <ng-container *ngFor="let source of galleryData.gallery; index as index">
    <div [ngClass]="'is-type-' + source.type">
      <app-image [image]="source" tabindex="0"></app-image>
    </div>
  </ng-container>
</ng-template>
